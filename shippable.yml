language: python

python:
  - "2.7"

addons:
  postgresql : "9.3"

env:
    global:
        - DB_NAME=raster_test
        - DJANGO_SETTINGS_MODULE=settings
        - PYTHONPATH=$PYTHONPATH:$HOME/workspace/src/github.com/geodesign/django-raster-aggregation

before_install:
  - psql -c 'create database raster_aggregation_test;' -U postgres
  - psql -d raster_aggregation_test -c 'create extension postgis;' -U postgres

install:
    - pip install Django==1.9a1
    - pip install git+https://github.com/geodesign/django-raster.git@master
    - pip install psycopg2==2.5.3
    - pip install celery==3.1.15
    - pip install numpy==1.9.2
    - pip install Pillow==2.7.0
    - pip install django-colorful==1.0.1
    - pip install djangorestframework==3.1.3 djangorestframework-csv==1.3.3 djangorestframework-gis==0.9
    - pip install drf-extensions==0.2.7
    - pip install django-filter==0.10.0
    - pip install flake8==2.4.0
    - pip install isort==3.9.6

script: django-admin.py test

notifications:
   email: false
