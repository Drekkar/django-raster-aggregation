language: python

python:
  - "2.7"

addons:
  postgresql : "9.3"

env:
    - DB_NAME=raster_test DJANGO_SETTINGS_MODULE=settings PYTHONPATH=$PYTHONPATH:$HOME/workspace/src/github.com/geodesign/django-raster-aggregation

before_install:
  - psql -c 'create database raster_aggregation_test;' -U postgres
  - psql -d raster_aggregation_test -c 'create extension postgis;' -U postgres

install:
    - pip install psycopg2==2.5.3 celery==3.1.15 numpy==1.9.2 Pillow==2.7.0 django-colorful==1.0.1 flake8==2.4.0 isort==3.9.6 djangorestframework==3.1.3 djangorestframework-csv==1.3.3 djangorestframework-gis==0.9 django-filter==0.10.0
  - pip install git+https://github.com/django/django.git@master
  - pip install git+https://github.com/geodesign/django-raster.git@master

script: django-admin.py test

notifications:
   email: false
